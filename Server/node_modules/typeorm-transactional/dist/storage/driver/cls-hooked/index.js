"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ClsHookedDriver = void 0;
var cls_hooked_1 = require("cls-hooked");
var constants_1 = require("./constants");
var ClsHookedDriver = /** @class */ (function () {
    function ClsHookedDriver() {
        var _a;
        this.context = (_a = (0, cls_hooked_1.getNamespace)(constants_1.NAMESPACE_TOKEN)) !== null && _a !== void 0 ? _a : (0, cls_hooked_1.createNamespace)(constants_1.NAMESPACE_TOKEN);
    }
    Object.defineProperty(ClsHookedDriver.prototype, "active", {
        get: function () {
            return !!this.context.active;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(ClsHookedDriver.prototype, "store", {
        get: function () {
            return this.context.active;
        },
        enumerable: false,
        configurable: true
    });
    ClsHookedDriver.prototype.get = function (key) {
        return this.context.get(key);
    };
    ClsHookedDriver.prototype.set = function (key, value) {
        this.context.set(key, value);
    };
    ClsHookedDriver.prototype.run = function (cb) {
        return this.context.runAndReturn(cb);
    };
    return ClsHookedDriver;
}());
exports.ClsHookedDriver = ClsHookedDriver;
//# sourceMappingURL=index.js.map